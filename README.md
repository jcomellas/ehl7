# Erlang HL7 NIF Parser

## Overview

This HL7 parser is an Erlang NIF interface into the C-based `hl7parser`.


## Requirements

You'll need Erlang/OTP R16B to be able to compile and use this parser. You'll
also need [rebar](https://github.com/rebar/rebar) installed and accessible in
your `PATH`.


## Installation

You'll need to retrieve the dependencies and the compile the project. You can
do this by running:
```
make deps
make
```
And you can check that everything is working properly by running:
```
make test
```


## Custom segments

The segment accessors are defined in an Erlang file (`src/hl7_segment_def.eon`)
and are auto-generated by an escript (`ehl7_codegen`). The code used to encode
and decode the segments is already included in the project (see
`src/ehl7_segment.erl` and `include/ehl7_segment.hrl`). If you need to modify
the segment definitions, just remove these files, modify the definition file
and run the script like this:
```
./ehl7_codegen
```
